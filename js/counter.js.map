{"version":3,"sources":["counter.js"],"names":["CounterAnimation","svgElement","_classCallCheck","this","svg","finalValue","tickDuration","x","y","width","setup","height","attr","style","concat","append","selectAll","data","final","text","textContent","transition","duration","tween","d","i","d3","interpolate","t","instantiateCounter","round","value","counter","delay","updateData"],"mappings":"uZAAMA,iB,WACF,SAAAA,EAAYC,GAAYC,gBAAAC,KAAAH,GACpBG,KAAKC,IAAMH,EACXE,KAAKE,WAAa,EAClBF,KAAKG,aAAe,EACpBH,KAAKI,EAAI,EACTJ,KAAKK,EAAI,EACTL,KAAKM,MAAM,EAPbT,KAAAA,OAQc,EAPhBG,KAAAO,Q,oDACI,WAEAP,KAAKG,IACAC,OAAL,QACKC,KAALL,KAAAE,YACKI,KAAL,QAAA,OACKE,KAAAA,IAALR,KAAAI,GACKG,KAAL,IAAAP,KAAAK,GACHI,KAAA,YAAA,MAWIC,MAAM,OAAQ,a,mBAGnB,WAVIV,KAAKC,MAAL,IAQHD,KAAAQ,OAAA,IAKGR,KAAKI,EAAI,GACTJ,KAAKK,EAAI,GACTL,KALJC,IAAAQ,KAAA,UAKI,QAAAE,OALIX,KAAAM,MAKJ,KAAAK,OALIX,KAAAQ,SAEJR,KAAKQ,aAAL,M,wBAGA,WAEA,IAAKL,EAAAA,CAAAA,KAAeD,YAMpBF,KAAKC,IAAIW,OAAO,KACfC,UAAU,KAJfC,KAAAC,GACQA,QAECd,OAAIW,QAcII,KAAK,GACVP,KAAO,QAAA,OACPA,KAAA,IAAA,IACAA,KAAKQ,IAAAA,KAALT,QAFAE,MAAA,YAAA,OAfRA,MAAA,OAAA,WAoBHQ,aARQC,SAAS,KACTC,MAAM,YAAa,SAASC,GACzB,IAAIC,EAAIC,GAAGC,YAAYxB,KAAKiB,YAAaI,GACzC,OAAO,SAASI,GASvBC,KAAAA,YAA0BzB,KAAK0B,MAAAL,EAAAG,W,KAAxC,SAASC,mBAAmBE,EAAO3B,GAa/B4B,IAAAA,EAAQ3B,IAARL,iBAAAI,GARIA,EAAIS,MAAM,UAAW,GACrBT,EAAIiB,aACCY,MAAM,KACNX,SAAS,KACTT,MAAM,UAAW,GAI1BmB,EAAQ3B,WAAa0B,EAErBC,EAAQE","file":"counter.js","sourcesContent":["class CounterAnimation {\n    constructor(svgElement) {\n        this.svg = svgElement;\n        this.finalValue = 0;\n        this.tickDuration = 0;\n        this.x = 0;\n        this.y = 0;\n        this.width=0;\n        this.height=0;\n        this.setup();\n    }\n\n    initiateCounter() {\n\n        this.svg\n        .append(\"text\")\n        .text(this.finalValue)\n        .attr('class', 'txt')\n        .attr(\"x\", this.x)\n        .attr(\"y\", this.y)\n        .attr('font-size', '50')\n        .style('fill', '#db0000');\n    }\n\n    setup() {\n        this.width = 600 ;\n        this.height = 100;\n        this.x = 10;\n        this.y = 10;\n        this.svg.attr('viewBox', `0  0 ${this.width} ${this.height}`);\n\n        this.tickDuration = 500;\n    }\n\n    updateData() {\n        let final = [this.finalValue] ;\n\n        this.svg.append('g')\n        .selectAll('g')\n            .data(final)\n            .enter()\n            .append(\"text\")\n            .text(0)\n            .attr(\"class\", \"txt\")\n            .attr(\"x\", 10)\n            .attr(\"y\", this.height)\n            .style('font-size', '250')\n            .style('fill', '#db0000')\n            .transition()\n            .duration(3000)\n            .tween(\"textTween\", function(d) {\n                var i = d3.interpolate(this.textContent, d);\n                return function(t) {\n                // t is the percent completion of the transition\n                this.textContent = Math.round(i(t));\n                }\n            });\n    }\n\n}\n\nfunction instantiateCounter(value, svg) {\n\n    let counter = new CounterAnimation(svg);\n\n    function showInitialPlot() {\n        svg.style('opacity', 0);\n        svg.transition()\n            .delay(1000)\n            .duration(600)\n            .style('opacity', 1);\n    }\n\n    showInitialPlot();\n    counter.finalValue = value;\n\n    counter.updateData();\n\n}"]}