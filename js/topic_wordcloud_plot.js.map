{"version":3,"sources":["topic_wordcloud_plot.js"],"names":["$","generateWordCloud","svg","words","ColorPicker","main_color","colors","sizeX","index","_createClass","key","value","this","length","color","layout","d3","cloud","size","map","w","text","padding","fontSize","i","Math","on","colorPicker","append","sizeY","selectAll","data","enter","max","d","concat","attr","draw","start","getColor","x","y","rotate","select"],"mappings":"mZAAAA,SAAEC,kBAAMC,EAAAC,GAKNF,EAAAA,KAAAA,UAAAA,OAAAA,OADoB,IACpBA,KAAAA,OADoB,MAJd,IAaAG,EAbA,WAQR,SAAAA,EAASH,GAAAA,gBAAAA,KAAAA,GACDI,KAAAA,OAAaC,EACdC,KAALC,MAAA,EAVM,OAAAC,aAAAL,EAAA,CAAA,CAAAM,IAAA,WAAAC,MAmBJ,WANIP,IAAAA,EAL+BQ,KAAAN,OAAAM,KAAAJ,OAMf,OAApBI,KAAAJ,OAAAI,KAAYN,MAAQ,GAAAM,KAAAN,OAAAO,OAAAC,MAdhBV,EAAA,GAiBHW,EAAAC,GAAAD,OAAAE,QAUAC,KAAK,CAvBY,IAAA,MAIiBf,MAAAA,EAAAgB,IAAA,SAAAC,GAAA,MAAA,CAAAC,KAAAD,MAYjCE,QAAMR,IACNS,SAAKf,SAAAA,EAALgB,GAAKhB,OAASiB,KAAKjB,IAAL,EAAD,GAAwBF,EAALkB,KAChCE,GAAA,MAcJ,SAAcvB,GA5BuB,IAAAwB,EAAA,IAAAvB,EAAA,CAAA,MAAA,UAAA,aAAA,OAAA,YAAAF,EA+BhC0B,OAAO,KAbRb,KAAM,YAAaE,aACdV,EAAOsB,OACb1B,GAAMA,EAAK,IAAKY,EAAAG,OAAC,GAAA,EAAA,KAAAY,UAAK,QACjBC,KAAEX,GADUY,QAGjBV,OACAC,QAAmBE,KAAKQ,YAAa,SAAAC,GAAG,MAAA,GAAAC,OAA/BD,EAAAhB,KAA+B,QAN9BkB,KAOAC,cAPb,UAQOC,KAAP,OAAA,SAAAJ,EAAAV,GAAA,OAAAG,EAAAY,aAcWH,KAAK,YAAa,SAAAF,GAAC,MAAA,aAAAC,OAZTD,EAAAM,EAYS,MAAAL,OAZTD,EAAAO,EAYS,aAAAN,OAZTD,EAAAQ,OAYS,OAXtBf,KAAAA,SAAAA,GAAW,OAAGO,EAAAb,SAdnBN,EAAAuB,QAvBLtC,EAAE,WAKAC,kBADUe,GAAG2B,OAAO,uBAHR,CACV,QAAS,QAAS,YAAa,UAAW,UAAW,SAAU,UAC/D,MAAO,aAAc,UAAW","file":"topic_wordcloud_plot.js","sourcesContent":["$(() => {\n  let words = [\n    'Drama', 'Teens', 'Teenagers', 'Romance', 'College', 'Humour', 'Mission',\n    'Car', 'Graduation', 'College', 'Summer']\n  let svg = d3.select('svg#topic-wordcloud')\n  generateWordCloud(svg, words)\n})\n\nfunction generateWordCloud(svg, words) {\n  const main_color = 'whitesmoke'\n  let [sizeX, sizeY] = [700, 500]\n  svg.attr('viewBox', `0 0 ${sizeX} ${sizeY}`)\n\n  class ColorPicker {\n    constructor(colors) {\n      this.colors = colors\n      this.index = 0\n    }\n\n    getColor() {\n      const color = this.colors[this.index]\n      this.index = (this.index + 1) % this.colors.length\n      return color\n    }\n  }\n\n  var layout = d3.layout.cloud()\n    .size([sizeX, sizeY])\n    .words(words.map(w => ({\n      text: w\n    })))\n    .padding(10)\n    .fontSize((d, i) => Math.max(0, 60 - i * 5))\n    .on(\"end\", draw)\n  layout.start()\n\n  function draw(words) {\n    const colorPicker = new ColorPicker(['red', '#ff0000', 'whitesmoke', 'gray', '#ffe6e6'])\n    svg\n      .append(\"g\")\n        .attr(\"transform\", \"translate(\" + layout.size()[0] / 2 + \",\" + layout.size()[1] / 2 + \")\")\n        .selectAll(\"text\")\n          .data(words)\n          .enter()\n          .append('text')\n            .attr('font-size', d => `${d.size}px`)\n            .attr('text-anchor', 'middle')\n            .attr('fill', (d, i) => colorPicker.getColor())\n            .attr('transform', d =>\n              `translate(${d.x}, ${d.y}) rotate(${d.rotate})`)\n            .text(d => d.text)\n  }\n}\n"]}