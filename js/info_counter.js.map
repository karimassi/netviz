{"version":3,"sources":["info_counter.js"],"names":["CounterAnimation","svgElement","_classCallCheck","this","svg","finalValue","tickDuration","x","y","width","setup","attr","concat","height","final","append","selectAll","data","enter","style","duration","interpolate","tween","d","i","d3","textContent","Math","round","t","instantiateCounter","value","counter","transition","delay","showInitialPlot","updateData"],"mappings":"uZAAMA,iB,WACF,SAAAA,EAAYC,GAAYC,gBAAAC,KAAAH,GACpBG,KAAKC,IAAMH,EACXE,KAAKE,WAAa,EAClBF,KAAKG,aAAe,EACpBH,KAAKI,EAAI,EACTJ,KAAKK,EAAI,EACTL,KAAKM,MAAM,EAPbT,KAAAA,OAQc,EAPhBG,KAAAO,Q,0CACI,WACAP,KAAKE,MAAL,IACAF,KAAKG,OAAL,IACAH,KAASI,EAAT,GACAJ,KAASK,EAAT,GACAL,KAAKM,IAAME,KAAX,UAAA,QAAAC,OAAAT,KAAAM,MAAA,KAAAG,OAAAT,KAAAU,SAEAV,KAAKO,aAAL,M,wBAaJ,WACI,IAAII,EAAQ,CAACX,KAAKE,YAVlBF,KAAKM,IAALM,OAAA,KACAC,UAAA,KACAC,KAAAH,GACAI,QACKd,OAAS,QAETE,KAAAA,GACRK,KAAA,QAAA,OAYQA,KAAK,IAAK,IACVA,KAAK,IAAKR,KAAKU,QAXxBM,MAAA,YAAA,OACQL,MAAQ,OAAMT,WAEbD,aAcQgB,SAAMC,KACXC,MAAO,YAAY,SAAAC,GACnB,IAAAC,EAAAC,GAAAJ,YAAAlB,KAAAuB,YAAAH,GACKG,OAAAA,SAAcC,GAjB3BxB,KAAAuB,YAAAC,KAAAC,MAAAJ,EAAAK,W,KAwBR,SAASC,mBAAmBC,EAAO3B,GAE/B,IAAI4B,EAAU,IAAIhC,iBAAiBI,GAI3B6B,EAAAA,MAAJ,UAAA,GAIH7B,EAAA6B,aAHQC,MAAM,IAKfC,SAAe,KACP9B,MAAAA,UAAR,GAAA2B,EAAQ3B,WAAa0B,EAErBC,EAAQI","file":"info_counter.js","sourcesContent":["class CounterAnimation {\n    constructor(svgElement) {\n        this.svg = svgElement;\n        this.finalValue = 0;\n        this.tickDuration = 0;\n        this.x = 0;\n        this.y = 0;\n        this.width=0;\n        this.height=0;\n        this.setup();\n    }\n\n    setup() {\n        this.width = 695 ;\n        this.height = 150;\n        this.x = 10;\n        this.y = 10;\n        this.svg.attr('viewBox', `0  0 ${this.width} ${this.height}`);\n\n        this.tickDuration = 500;\n    }\n\n    updateData() {\n        let final = [this.finalValue] ;\n\n        this.svg.append('g')\n        .selectAll('g')\n            .data(final)\n            .enter()\n            .append(\"text\")\n            .text(0)\n            .attr(\"class\", \"txt\")\n            .attr(\"x\", 10)\n            .attr(\"y\", this.height)\n            .style('font-size', '250')\n            .style('fill', '#db0000')\n            .transition()\n            .duration(3000)\n            .tween(\"textTween\", function(d) {\n                var i = d3.interpolate(this.textContent, d);\n                return function(t) {\n                // t is the percent completion of the transition\n                this.textContent = Math.round(i(t));\n                }\n            });\n    }\n\n}\n\nfunction instantiateCounter(value, svg) {\n\n    let counter = new CounterAnimation(svg);\n\n    function showInitialPlot() {\n        svg.style('opacity', 0);\n        svg.transition()\n            .delay(10)\n            .duration(600)\n            .style('opacity', 1);\n    }\n\n    showInitialPlot();\n    counter.finalValue = value;\n\n    counter.updateData();\n\n}"]}