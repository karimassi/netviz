{"version":3,"sources":["language_bplot.js"],"names":["$","margin","width","bottom","d3","selectAll","left","attr","right","append","csv","new_data","slice","data","svg","y","scaleBand","domain","audio","padding","height","call","axisBottom","x","tooltip","style","mouseover","audioName","range","mousemove","map","d","event","select","enter","id","bandwidth","on","audioValue","html"],"mappings":"aAAAA,EAAE,WAAA,IAAAC,EAAW,GAAXA,EAAW,GAAXA,EAAW,GAAXA,EAAW,GACXC,EAAA,KAAAD,EAAAA,EACIA,EAAS,IAAAA,EAAAA,EAAqBE,EAAQC,GAA7BC,UAAA,mBAAiCC,OAAM,OAApDC,KAAA,QAAAL,EAAAD,EAAAA,GACIC,KAAK,SAAUD,EAAOK,EAAcE,GADxCC,OAEU,KAQLF,KAAK,YALAH,aAAaH,EAAA,IACpBQ,EACEF,KAQHH,GAAAM,IAAIC,iBAAgBC,SAApBC,GAKAC,IAAIL,EAAJI,EAAAD,MACU,EAAA,IASNG,EAAIX,GAAGY,cAE6BC,OAASC,CAAAA,EAAT,MACnCC,MAHG,CAGK,EAHbjB,IAIAY,EAAIL,OAAO,KAOXF,KAAA,YAAA,eAAAa,EAAA,KACAC,KAAAjB,GAAAkB,WAAAC,IAnBKlB,UAAU,QAoBXmB,KAAUpB,YAAU,+BAlBfqB,MAAM,cAAe,OA8B1BC,MAAS,OAAG,cACVC,MAAS,YAAb,UAQD,IATDZ,EAAAX,GAAAY,YAxBKY,MAAM,CAAE,EAAGR,IAkCZS,OAASlB,EAAGmB,IAAZD,SAAqBE,GAAG,OAAAA,EAAAb,SAC1BC,QAAWa,IAAXlB,EAAAL,OACML,KACNoB,KACCC,GAAAA,SADDV,IAECU,UAFD,QAHFA,MAAA,OAAA,cA3BOA,MAAM,YAAa,UAK1B,IAAID,EAAUpB,GAAG6B,OAAO,mBAmCrBxB,OAACJ,OAKuBoB,MAAOV,UAAP,GACxBR,KAAK,QAAS,WAAckB,MAAOF,mBAAP,SAC5BhB,MAAK,SAAW,SAxErBkB,MAAA,eAAA,OAfFA,MAAA,gBAAA,OAqDOA,MAAM,UAAW,QACjBA,MAAM,WAAY,YA0BrBX,EAAIT,UAAU,UACXQ,KAAKF,GACLuB,QACAzB,OAAO,QACPF,KAAK,IAAKgB,EAAE,IACZhB,KAAK,IAAK,SAASwB,GAAK,OAAOhB,EAAEgB,EAAEb,SACnCX,KAAK,QAAS,SAASwB,GAAK,OAAOR,EAAEQ,EAAEI,MACvC5B,KAAK,SAAUQ,EAAEqB,aACjB7B,KAAK,OAAQ,WACb8B,GAAG,YAhCU,SAASN,GACvB,IAAIJ,EAAYI,EAAEb,MACdoB,EAAaP,EAAEI,GAEnBX,EACKe,KAAK,aAAeZ,EAAY,cAAqBW,GACrDb,MAAM,UAAW,GACjBA,MAAM,QAAS,WA0BnBY,GAAG,YAvBU,SAASN,GACvB,IAAIR,EAAInB,GAAG4B,MAAMT,EACfR,EAAIX,GAAG4B,MAAMjB,EACfS,EACCC,MAAM,OAASF,EAAE,GAAM,MACvBE,MAAM,MAAOV,EAAI,QAmBjBsB,GAAG,aAjBW,SAASN,GACxBP,EACGC,MAAM,UAAW","file":"language_bplot.js","sourcesContent":["$(function() {\n  // set the dimensions and margins of the graph\n  var margin = {top: 10, right: 30, bottom: 50, left: 70},\n      width = 1200 - margin.left - margin.right,\n      height = 700 - margin.top - margin.bottom;\n\n  // append the svg object to the body of the page\n  var svg = d3.selectAll(\"#most-languages\")\n    .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n      .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  d3.csv(\"data/audio.csv\", function(data) {\n\n    var new_data = data.slice(0,10) ;\n\n    var x = d3.scaleLinear()\n        .domain([ 0, 5000 ])\n        .range([ 0, width ]);\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n            .style(\"text-anchor\", \"end\")\n            .style('fill', 'whitesmoke')\n            .style('font-size', '0.7rem')\n\n    // Add Y axis\n    var y = d3.scaleBand()\n        .range([ 0, height])\n        .domain( new_data.map(function(d) { return d.audio}))\n        .padding(.1);\n    svg.append(\"g\")\n        .call(d3.axisLeft(y))\n        .selectAll(\"text\")\n          .style('fill', 'whitesmoke')\n          .style('font-size', '0.7rem');\n\n    // ----------------\n    // Create a tooltip\n    // ----------------\n    var tooltip = d3.select(\"#most-languages\")\n      .append(\"div\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .style(\"background-color\", \"white\")\n      .style(\"border\", \"solid\")\n      .style(\"border-width\", \"1px\")\n      .style(\"border-radius\", \"5px\")\n      .style(\"padding\", \"10px\")\n      .style('position', 'absolute');\n\n    // Three function that change the tooltip when user hover / move / leave a cell\n    var mouseover = function(d) {\n      var audioName = d.audio;\n      var audioValue = d.id;\n\n      tooltip\n          .html(\"Language: \" + audioName + \"<br>\" + \"Value: \" + audioValue)\n          .style(\"opacity\", 1)\n          .style('color', 'black')\n\n    }\n    var mousemove = function(d) {\n      var x = d3.event.x,\n        y = d3.event.y;\n      tooltip\n      .style(\"left\", (x+10) + \"px\") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect\n      .style(\"top\", y + \"px\")\n    }\n    var mouseleave = function(d) {\n      tooltip\n        .style(\"opacity\", 0)\n    }\n\n    //Bars\n    svg.selectAll(\"myRect\")\n      .data(new_data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", x(0) )\n      .attr(\"y\", function(d) { return y(d.audio); })\n      .attr(\"width\", function(d) { return x(d.id); })\n      .attr(\"height\", y.bandwidth() )\n      .attr(\"fill\", \"#db0000\")\n      .on(\"mouseover\", mouseover)\n      .on(\"mousemove\", mousemove)\n      .on(\"mouseleave\", mouseleave)\n  })\n})"]}